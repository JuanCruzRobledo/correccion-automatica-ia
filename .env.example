# ============================================
# CONFIGURACI칍N DEL SISTEMA DE CORRECCI칍N AUTOM츼TICA
# ============================================
# Copia este archivo como .env y configura las variables
# cp .env.example .env

# ============================================
# GENERAL
# ============================================
COMPOSE_PROJECT_NAME=correcion-automatica

# ============================================
# PUERTOS DE LOS SERVICIOS
# ============================================
# Cambiar si hay conflictos de puertos en tu m치quina
BACKEND_PORT=5000
FRONTEND_PORT=3000
N8N_PORT=5678

# ============================================
# BASE DE DATOS (MongoDB Atlas - EN LA NUBE)
# ============================================
# 丘멆잺 IMPORTANTE: Esta es la base de datos compartida en producci칩n
# TODOS los usuarios locales usar치n esta misma base de datos
#
# Formato: mongodb+srv://usuario:password@cluster.mongodb.net/nombre-db?retryWrites=true&w=majority
#
# 游닇 Reemplaza con tu URI real de MongoDB Atlas
MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/correcion-automatica?retryWrites=true&w=majority

# ============================================
# BACKEND - AUTENTICACI칍N JWT
# ============================================
# Clave secreta para firmar tokens JWT
# 丘멆잺 CAMBIAR en producci칩n - M칤nimo 32 caracteres
# Generar: openssl rand -hex 32
JWT_SECRET=correcion-automatica-jwt-secret-default-2024-change-in-production
JWT_EXPIRES_IN=7d

# ============================================
# BACKEND - ENCRIPTACI칍N
# ============================================
# Clave de encriptaci칩n para datos sensibles (debe ser 64 caracteres hexadecimales)
# Generar: openssl rand -hex 32
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ============================================
# BACKEND - ALMACENAMIENTO DE ARCHIVOS
# ============================================
# Tipo de almacenamiento para archivos de entregas
# Opciones: "local" | "drive" | "s3"
FILE_STORAGE_TYPE=local

# Tama침o m치ximo de archivo de entrega (en bytes)
# Default: 50MB (50000000 bytes)
UPLOAD_MAX_SIZE=50000000

# Ruta para almacenamiento local de archivos
# Los archivos se guardar치n en: backend/uploads/submissions/
UPLOAD_PATH=./uploads

# ============================================
# N8N - AUTENTICACI칍N
# ============================================
# Credenciales para acceder a N8N (http://localhost:5678)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin123

# ============================================
# N8N - WEBHOOKS (Solo para correcci칩n con IA)
# ============================================
# URL base para webhooks (cambiar localhost por tu dominio en producci칩n)
WEBHOOK_URL=http://localhost:5678

# Webhook para correcci칩n autom치tica con Gemini AI
# N8N_GRADING_WEBHOOK_URL=http://n8n:5678/webhook/corregir
# (Configurar seg칰n los workflows de n8n activos)

# ============================================
# CORS
# ============================================
# Or칤genes permitidos para CORS (separados por coma)
# Para desarrollo: http://localhost:3000
# Para producci칩n: https://tu-dominio.com
CORS_ORIGIN=http://localhost:3000

# ============================================
# ZONA HORARIA
# ============================================
TIMEZONE=America/Argentina/Buenos_Aires

# ============================================
# NOTAS IMPORTANTES
# ============================================
#
# 1. BASE DE DATOS:
#    - MongoDB Atlas es la base de datos compartida
#    - Todos los archivos de entregas se guardan en: backend/uploads/submissions/
#    - NO necesitas configurar Google Drive para almacenamiento
#
# 2. ALMACENAMIENTO:
#    - Entregas: Almacenamiento local (backend/uploads/)
#    - Correcciones: Guardadas en MongoDB
#    - PDFs: Generados desde datos de MongoDB
#
# 3. N8N:
#    - Solo se usa para correcci칩n autom치tica con Gemini AI
#    - Las credenciales de Google Gemini se configuran EN N8N
#    - NO se usa para crear carpetas o subir archivos a Drive
#
# 4. SEGURIDAD:
#    - NUNCA commitear este archivo .env al repositorio
#    - Cambiar JWT_SECRET y ENCRYPTION_KEY en producci칩n
#    - Usar contrase침as fuertes para N8N_BASIC_AUTH_PASSWORD
#    - Los archivos en uploads/ est치n en .gitignore
#

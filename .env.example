# ============================================
# CONFIGURACI칍N DEL SISTEMA DE CORRECCI칍N AUTOM츼TICA
# ============================================
# Copia este archivo como .env y configura las variables
# cp .env.example .env

# ============================================
# GENERAL
# ============================================
COMPOSE_PROJECT_NAME=correcion-automatica

# ============================================
# PUERTOS DE LOS SERVICIOS
# ============================================
# Cambiar si hay conflictos de puertos en tu m치quina
BACKEND_PORT=5000
FRONTEND_PORT=3000
N8N_PORT=5678

# ============================================
# BASE DE DATOS (MongoDB Atlas - EN LA NUBE)
# ============================================
# 丘멆잺 IMPORTANTE: Esta es la base de datos compartida en producci칩n
# TODOS los usuarios locales usar치n esta misma base de datos
#
# Formato: mongodb+srv://usuario:password@cluster.mongodb.net/nombre-db?retryWrites=true&w=majority
#
# 游닇 Reemplaza con tu URI real de MongoDB Atlas
MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/correcion-automatica?retryWrites=true&w=majority

# ============================================
# BACKEND - AUTENTICACI칍N JWT
# ============================================
# Clave secreta para firmar tokens JWT
# 丘멆잺 CAMBIAR en producci칩n - M칤nimo 32 caracteres
# Generar: openssl rand -hex 32
JWT_SECRET=correcion-automatica-jwt-secret-default-2024-change-in-production
JWT_EXPIRES_IN=7d

# ============================================
# BACKEND - ENCRIPTACI칍N
# ============================================
# Clave de encriptaci칩n para datos sensibles (debe ser 64 caracteres hexadecimales)
# Generar: openssl rand -hex 32
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ============================================
# N8N - AUTENTICACI칍N
# ============================================
# Credenciales para acceder a N8N (http://localhost:5678)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin123

# ============================================
# N8N - WEBHOOKS
# ============================================
# URL base para webhooks (cambiar localhost por tu dominio en producci칩n)
WEBHOOK_URL=http://localhost:5678

# Webhook para obtener correcciones de la planilla (usado para generar PDFs de devoluci칩n)
N8N_WEBHOOK_GET_CORRECTIONS=http://n8n:5678/webhook/get-student-corrections

# 丘멆잺 NO MODIFICAR - URLs internas entre containers Docker
# Estas variables las usa docker-compose.yml autom치ticamente

# ============================================
# CORS
# ============================================
# Or칤genes permitidos para CORS (separados por coma)
# Para desarrollo: http://localhost:3000
# Para producci칩n: https://tu-dominio.com
CORS_ORIGIN=http://localhost:3000

# ============================================
# ZONA HORARIA
# ============================================
TIMEZONE=America/Argentina/Buenos_Aires

# ============================================
# NOTAS IMPORTANTES
# ============================================
#
# 1. BASE DE DATOS COMPARTIDA:
#    - Todos los usuarios locales usan la misma MongoDB Atlas
#    - NO necesitas crear una base de datos local
#    - Los datos son consistentes entre todos
#
# 2. WEBHOOKS DE N8N:
#    - Las URLs internas (http://n8n:5678/webhook/...) se configuran autom치ticamente
#    - Son para comunicaci칩n entre containers Docker
#    - NO las cambies a menos que sepas lo que haces
#
# 3. SEGURIDAD:
#    - NUNCA commitear este archivo .env al repositorio
#    - Cambiar JWT_SECRET y ENCRYPTION_KEY en producci칩n
#    - Usar contrase침as fuertes para N8N_BASIC_AUTH_PASSWORD
#
# 4. GOOGLE APIs:
#    - Las credenciales de Google se configuran EN N8N (no aqu칤)
#    - Ver n8n/README-PRECONFIGURACION.md para instrucciones
#    - Si usas imagen preconfigurada, ya est치n incluidas
#
